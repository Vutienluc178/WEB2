<!doctype html>
<html lang="vi">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Form t·∫°o PROMPT ‚Äî C√¢u h·ªèi m·ªü To√°n g·∫Øn ƒë·ªùi s·ªëng</title>
<style>
  :root{--bg:#0f172a;--panel:#0b1220;--ink:#e5e7eb;--muted:#94a3b8;--brand:#22c55e;--line:#1f2937;--mono:ui-monospace,SFMono-Regular,Menlo,Consolas,monospace;--sans:ui-sans-serif,system-ui,-apple-system,"Segoe UI",Roboto,Arial,"Noto Sans";}
  *{box-sizing:border-box}
  body{margin:0;background:#0f172a;color:var(--ink);font-family:var(--sans);line-height:1.6}
  .wrap{max-width:880px;margin:auto;padding:20px}
  h1{margin:0 0 4px;font-size:clamp(22px,3vw,28px)}
  p.sub{margin:0 0 18px;color:var(--muted)}
  .card{background:#0b1220;border:1px solid var(--line);border-radius:14px;padding:16px;margin:12px 0;box-shadow:0 10px 28px rgba(0,0,0,.35)}
  label{font-weight:700;margin-bottom:6px;display:block}
  input[type=text], select, textarea{width:100%;padding:12px 14px;border-radius:10px;border:1px solid var(--line);background:#0a1222;color:var(--ink);outline:none}
  textarea{min-height:160px;font-family:var(--mono)}
  .grid{display:grid;grid-template-columns:1fr;gap:14px}
  @media(min-width:760px){.grid{grid-template-columns:1fr 1fr}}
  .row{display:flex;gap:8px;flex-wrap:wrap}
  .pill{border:1px dashed #334155;color:#cbd5e1;padding:6px 10px;border-radius:999px;cursor:pointer;user-select:none}
  .pill.active{border-color:#38bdf8;color:#e0f2fe;background:rgba(56,189,248,.07)}
  .btn{border:none;border-radius:12px;padding:10px 14px;font-weight:800;cursor:pointer;background:linear-gradient(90deg,#22c55e,#16a34a);color:#082016;box-shadow:0 8px 18px rgba(34,197,94,.25)}
  .btn.sec{background:#0a1222;color:var(--ink);border:1px solid var(--line)}
  .hint{font-size:12px;color:var(--muted)}
  .kbd{font-family:var(--mono);background:#0b1220;border:1px solid var(--line);padding:2px 6px;border-radius:6px}
</style>
</head>
<body>
<div class="wrap">
  <h1>üßÆ Form t·∫°o PROMPT ‚Äî C√¢u h·ªèi m·ªü To√°n g·∫Øn ƒë·ªùi s·ªëng</h1>
  <p class="sub">ƒêi·ªÅn th√¥ng tin ‚Üí b·∫•m <span class="kbd">T·∫°o PROMPT</span> ‚Üí copy & d√°n v√†o ChatGPT/Custom GPT ƒë·ªÉ sinh c√¢u h·ªèi m·ªü.</p>

  <div class="card">
    <div class="grid">
      <div>
        <label>Ch·ªß ƒë·ªÅ To√°n *</label>
        <input id="topic" type="text" placeholder="V√≠ d·ª•: H√†m b·∫≠c hai; H·ªá ph∆∞∆°ng tr√¨nh; X√°c su·∫•t; Vect∆°...">
      </div>
      <div>
        <label>L·ªõp *</label>
        <select id="grade">
          <option value="10">10</option>
          <option value="11">11</option>
          <option value="12">12</option>
        </select>
      </div>
      <div>
        <label>B·ªô s√°ch</label>
        <select id="series">
          <option value="Ch√¢n tr·ªùi s√°ng t·∫°o">Ch√¢n tr·ªùi s√°ng t·∫°o</option>
          <option value="K·∫øt n·ªëi tri th·ª©c">K·∫øt n·ªëi tri th·ª©c</option>
          <option value="C√°nh di·ªÅu">C√°nh di·ªÅu</option>
          <option value="Kh√°c / t·ª± ch·ªçn">Kh√°c / t·ª± ch·ªçn</option>
        </select>
      </div>
      <div>
        <label>B·ªëi c·∫£nh ƒë·ªùi s·ªëng (t√πy ch·ªçn)</label>
        <input id="context" type="text" placeholder="V√≠ d·ª•: mua b√°n, Pickleball, m√¥i tr∆∞·ªùng, giao th√¥ng, √¢m nh·∫°c...">
      </div>
    </div>

    <div style="margin-top:10px">
      <label>Phong c√°ch vai tr√≤ (ch·ªçn 1‚Äì3)</label>
      <div id="roles" class="row">
        <div class="pill" data-role="Storyteller (ng∆∞·ªùi k·ªÉ chuy·ªán)">Storyteller</div>
        <div class="pill" data-role="Coach (hu·∫•n luy·ªán vi√™n)">Coach</div>
        <div class="pill" data-role="Connector (k·∫øt n·ªëi li√™n m√¥n)">Connector</div>
        <div class="pill" data-role="Facilitator (ƒëi·ªÅu ph·ªëi th·∫£o lu·∫≠n)">Facilitator</div>
        <div class="pill" data-role="Real-world problem poser (ƒë·∫∑t t√¨nh hu·ªëng th·ª±c t·∫ø)">Real‚Äëworld</div>
      </div>
    </div>

    <div style="margin-top:10px">
      <label>T√πy ch·ªçn ƒë·∫ßu ra</label>
      <div class="row">
        <div class="pill active" data-opt="count=4">4 c√¢u h·ªèi</div>
        <div class="pill" data-opt="count=5">5 c√¢u h·ªèi</div>
        <div class="pill" data-opt="count=3">3 c√¢u h·ªèi</div>
        <div class="pill" data-opt="level=d·ªÖ‚Üíkh√≥">S·∫Øp x·∫øp: d·ªÖ‚Üíkh√≥</div>
        <div class="pill" data-opt="include_debate=1">C√≥ 1 c√¢u tranh lu·∫≠n</div>
        <div class="pill" data-opt="tone=g·∫ßn g≈©i">Ng√¥n ng·ªØ g·∫ßn g≈©i</div>
      </div>
    </div>

    <div class="row" style="margin-top:14px">
      <button class="btn" onclick="makePrompt()">‚ö° T·∫°o PROMPT</button>
      <button class="btn sec" onclick="copyOut()">üìã Copy</button>
      <button class="btn sec" onclick="sample()">üé≤ V√≠ d·ª• nhanh</button>
    </div>
  </div>

  <div class="card">
    <label>Prompt t·∫°o ra</label>
    <textarea id="out" placeholder="Prompt s·∫Ω hi·ªán ·ªü ƒë√¢y..." spellcheck="false"></textarea>
    <div class="hint">M·∫πo: Sau khi copy, c√≥ th·ªÉ y√™u c·∫ßu ChatGPT: ‚ÄúT·∫°o th√™m m·ªôt phi√™n b·∫£n kh√°c‚Äù, ‚ÄútƒÉng ƒë·ªô m·ªü‚Äù, ‚Äúƒë·ªïi b·ªëi c·∫£nh sang Pickleball/mua b√°n‚Äù‚Ä¶</div>
  </div>

  <p class="hint">¬© 2025 ‚Äî THPT Math √ó Real-life Questions</p>
</div>

<script>
// Toggle pills
for(const el of document.querySelectorAll('.pill')){
  el.addEventListener('click', ()=> el.classList.toggle('active'));
}
function getActive(selector, attr){
  return [...document.querySelectorAll(selector + ' .pill.active')].map(p => p.getAttribute(attr));
}
function sample(){
  document.getElementById('topic').value = 'H√†m b·∫≠c hai';
  document.getElementById('grade').value = '10';
  document.getElementById('series').value = 'Ch√¢n tr·ªùi s√°ng t·∫°o';
  document.getElementById('context').value = 'mua b√°n, Pickleball, r∆°i t·ª± do';
  // roles
  document.querySelectorAll('#roles .pill').forEach(p => p.classList.remove('active'));
  ['Storyteller (ng∆∞·ªùi k·ªÉ chuy·ªán)','Coach (hu·∫•n luy·ªán vi√™n)','Connector (k·∫øt n·ªëi li√™n m√¥n)'].forEach(name=>{
    const el = [...document.querySelectorAll('#roles .pill')].find(x=>x.dataset.role===name);
    if(el) el.classList.add('active');
  });
  // opts
  document.querySelectorAll('[data-opt]').forEach(p=>p.classList.remove('active'));
  ['count=4','level=d·ªÖ‚Üíkh√≥','include_debate=1','tone=g·∫ßn g≈©i'].forEach(v=>{
    const el = [...document.querySelectorAll('[data-opt]')].find(x=>x.dataset.opt===v);
    if(el) el.classList.add('active');
  });
  makePrompt();
}
function makePrompt(){
  const topic = document.getElementById('topic').value.trim();
  const grade = document.getElementById('grade').value;
  const series = document.getElementById('series').value;
  const context = document.getElementById('context').value.trim();
  if(!topic){ alert('Vui l√≤ng nh·∫≠p Ch·ªß ƒë·ªÅ To√°n.'); return; }

  const roles = getActive('#roles','data-role');
  const opts = getActive('body','data-opt');
  const countOpt  = (opts.find(o=>o.startsWith('count=')) || 'count=4').split('=')[1];
  const levelOpt  = opts.includes('level=d·ªÖ‚Üíkh√≥');
  const debateOpt = opts.includes('include_debate=1');
  const toneOpt   = opts.includes('tone=g·∫ßn g≈©i');
  const seed = Math.random().toString(36).slice(2,8);

  const roleLine = roles.length ? `H√£y k·∫øt h·ª£p phong c√°ch: ${roles.join(', ')}.` : '';
  const ctxLine = context ? `∆Øu ti√™n b·ªëi c·∫£nh: ${context}.` : '∆Øu ti√™n b·ªëi c·∫£nh quen thu·ªôc v·ªõi h·ªçc sinh (mua b√°n, th·ªÉ thao/Pickleball, c√¥ng ngh·ªá, m√¥i tr∆∞·ªùng, m·∫°ng x√£ h·ªôi).';
  const constraints = [
    `T·∫°o ${countOpt} c√¢u h·ªèi m·ªü (m·ªói c√¢u 1‚Äì2 c√¢u ng·∫Øn), kh√¥ng l·ªô ƒë√°p √°n ngay, khuy·∫øn kh√≠ch th·∫£o lu·∫≠n.`,
    levelOpt ? `S·∫Øp x·∫øp t·ª´ d·ªÖ ƒë·∫øn kh√≥.` : ``,
    debateOpt ? `C√≥ √≠t nh·∫•t 1 c√¢u g·ª£i tranh lu·∫≠n nhi·ªÅu h∆∞·ªõng tr·∫£ l·ªùi.` : ``,
    toneOpt ? `D√πng ng√¥n ng·ªØ g·∫ßn g≈©i, th√¢n thi·ªán.` : `D√πng ng√¥n ng·ªØ r√µ r√†ng, ph√π h·ª£p h·ªçc sinh THPT.`,
    `Kh√¥ng y√™u c·∫ßu gi·∫£i chi ti·∫øt; ch·ªâ n√™u c√¢u h·ªèi m·ªü g·∫Øn th·ª±c t·∫ø.`
  ].filter(Boolean).join('\\n- ');

  const prompt = `B·∫°n l√† gi√°o vi√™n To√°n THPT xu·∫•t s·∫Øc v·ªõi 20 nƒÉm kinh nghi·ªám.\n${roleLine}\nH√£y t·∫°o c√¢u h·ªèi m·ªü g·∫Øn v·ªõi ƒë·ªùi s·ªëng ƒë·ªÉ kh∆°i g·ª£i suy nghƒ© v√† k·∫øt n·ªëi ki·∫øn th·ª©c m·ªõi cho h·ªçc sinh.\n\nCh·ªß ƒë·ªÅ: ${topic}\nL·ªõp: ${grade}\nS√°ch: ${series}\n${ctxLine}\n\nY√™u c·∫ßu:\n- ${constraints}\n\nƒê·∫ßu ra:\n- Danh s√°ch ƒë√°nh s·ªë c√°c c√¢u h·ªèi.\n- Ng·∫Øn g·ªçn, d·ªÖ hi·ªÉu.\n\n(variation_seed: ${seed})`;

  document.getElementById('out').value = prompt;
}
async function copyOut(){
  const ta = document.getElementById('out');
  if(!ta.value.trim()){ makePrompt(); }
  ta.select(); ta.setSelectionRange(0, 99999);
  try{
    await navigator.clipboard.writeText(ta.value);
    toast('ƒê√£ copy PROMPT ‚úÖ');
  }catch(e){
    document.execCommand('copy');
    toast('ƒê√£ c·ªë g·∫Øng copy. N·∫øu ch∆∞a ƒë∆∞·ª£c, h√£y Ctrl/Cmd+C.');
  }
}
function toast(msg){
  const t=document.createElement('div'); t.textContent=msg;
  t.style.cssText='position:fixed;left:50%;top:20px;transform:translateX(-50%);background:#0b1220;border:1px solid #1f2937;color:#e5e7eb;padding:10px 14px;border-radius:10px;box-shadow:0 10px 20px rgba(0,0,0,.35);z-index:9999';
  document.body.appendChild(t); setTimeout(()=>t.remove(),1600);
}
</script>
</body>
</html>
