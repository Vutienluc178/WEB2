<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>FormPT â€¢ Master Prompt Chá»§ Ä‘á» ToÃ¡n (MathJax-ready)</title>
<meta name="color-scheme" content="light dark" />
<style>
  :root{
    --bg:#f7f7fb; --card:#ffffff; --fg:#0f172a; --muted:#64748b;
    --accent:#2563eb; --accent-2:#16a34a; --danger:#dc2626; --border:#e5e7eb;
    --shadow:0 10px 30px rgba(2,6,23,.06);
  }
  body.dark{
    --bg:#0b1020; --card:#0f172a; --fg:#e5e7eb; --muted:#a5b4fc; --border:#1f2a44; --shadow:0 12px 30px rgba(0,0,0,.35);
  }
  *{box-sizing:border-box}
  body{margin:0; background:var(--bg); color:var(--fg); font:15.5px/1.6 system-ui,Segoe UI,Inter,Roboto,Arial,sans-serif}
  .wrap{max-width:1100px; margin:auto; padding:20px}
  header{display:flex; align-items:center; justify-content:space-between; gap:12px; margin:6px 0 18px}
  .brand{display:flex; gap:12px; align-items:center}
  .logo{width:40px; height:40px; display:grid; place-items:center; border-radius:12px; font-weight:800; color:#fff;
        background:linear-gradient(135deg,var(--accent),#7c3aed); box-shadow:var(--shadow)}
  .title{font-weight:800}
  .muted{color:var(--muted)}
  .btn{border:1px solid var(--border); background:var(--card); color:var(--fg); padding:9px 12px; border-radius:10px; cursor:pointer; box-shadow:var(--shadow); transition:.15s}
  .btn:hover{transform:translateY(-1px)}
  .pill{font-size:.85rem; padding:3px 8px; border-radius:999px; border:1px solid var(--border); background:var(--bg)}
  .grid{display:grid; gap:16px}
  @media(min-width:980px){ .grid-2{grid-template-columns:1fr 1fr} .grid-3{grid-template-columns:1fr 1fr 1fr} }
  .card{background:var(--card); border:1px solid var(--border); border-radius:14px; padding:14px; box-shadow:var(--shadow)}
  .card h3{margin:.2rem 0 .6rem}
  label{display:block; font-weight:600; margin:.2rem 0 .25rem}
  input[type="text"], textarea, select{
    width:100%; padding:10px 12px; background:transparent; color:inherit; border:1px solid var(--border); border-radius:10px;
  }
  textarea{min-height:90px; resize:vertical}
  .row{display:flex; gap:10px; flex-wrap:wrap}
  .note{color:var(--muted); font-size:.92rem}
  .out{white-space:pre; font-family:ui-monospace, Menlo, SFMono-Regular, monospace; padding:12px; border-radius:12px; border:1px solid var(--border); background:var(--card)}
  .footer{margin-top:16px; text-align:center; color:var(--muted); font-size:.92rem}
  .ok{color:var(--accent-2); font-weight:700}
  .bad{color:var(--danger); font-weight:700}
</style>
</head>
<body>
<div class="wrap">
  <header>
    <div class="brand">
      <div class="logo">PT</div>
      <div>
        <div class="title">FormPT â€¢ Master Prompt Chá»§ Ä‘á» ToÃ¡n</div>
        <div class="muted">Äiá»n [mÃ´ táº£] â†’ Táº¡o prompt Ä‘áº§y Ä‘á»§ (MathJax v3 ready)</div>
      </div>
    </div>
    <div class="row">
      <button class="btn" id="toggleTheme">ğŸŒ“ Giao diá»‡n</button>
      <span class="pill">HTML má»™t file</span>
    </div>
  </header>

  <section class="card">
    <h3>1) ThÃ´ng tin chá»§ Ä‘á»</h3>
    <div class="grid grid-3">
      <div>
        <label>Chá»§ Ä‘á»</label>
        <input type="text" id="topic" placeholder="VD: Há»‡ thá»©c lÆ°á»£ng trong tam giÃ¡c">
      </div>
      <div>
        <label>Lá»›p</label>
        <input type="text" id="grade" placeholder="VD: 10 / 11 / 12">
      </div>
      <div>
        <label>Bá»™ sÃ¡ch</label>
        <input type="text" id="series" placeholder="VD: CTST / KNTT / CÃ¡nh Diá»u">
      </div>
    </div>
    <label style="margin-top:8px">Má»¥c tiÃªu nÄƒng lá»±c (3â€“5 Ã½, má»—i Ã½ má»™t dÃ²ng)</label>
    <textarea id="goals" placeholder="- Náº¯m Ä‘á»‹nh lÃ½ cos/sin\n- TÃ­nh cáº¡nh/gÃ³c tá»« dá»¯ kiá»‡n\n- Váº­n dá»¥ng vÃ o bÃ i toÃ¡n thá»±c táº¿"></textarea>
  </section>

  <section class="card">
    <h3>2) CÃ´ng cá»¥ ToÃ¡n há»c (sáº½ xuáº¥t hiá»‡n á»Ÿ tab ğŸ”§)</h3>
    <div class="grid grid-3">
      <div>
        <label>CÃ´ng cá»¥ 1 â€“ MÃ´ táº£</label>
        <textarea id="tool1" placeholder="VD: TÃ­nh cáº¡nh cÃ²n láº¡i báº±ng Ä‘á»‹nh lÃ½ cos tá»« a,b,C"></textarea>
      </div>
      <div>
        <label>CÃ´ng cá»¥ 2 â€“ MÃ´ táº£</label>
        <textarea id="tool2" placeholder="VD: TÃ­nh gÃ³c tá»« Ä‘á»‹nh lÃ½ sin khi biáº¿t 2 cáº¡nh 1 gÃ³c"></textarea>
      </div>
      <div>
        <label>CÃ´ng cá»¥ 3 â€“ MÃ´ táº£</label>
        <textarea id="tool3" placeholder="VD: Diá»‡n tÃ­ch tam giÃ¡c theo 1/2 ab sinC vÃ  cÃ´ng thá»©c Heron"></textarea>
      </div>
    </div>
    <div class="note" style="margin-top:6px">Báº¡n cÃ³ thá»ƒ Ä‘á»ƒ trá»‘ng má»™t sá»‘ Ã´ â€“ há»‡ thá»‘ng váº«n táº¡o prompt theo khung chuáº©n.</div>
  </section>

  <section class="card">
    <h3>3) Tuá»³ chá»n bá»• sung (khÃ´ng báº¯t buá»™c)</h3>
    <div class="grid grid-2">
      <div>
        <label>YÃªu cáº§u bá»• sung cho Kiá»ƒm tra</label>
        <textarea id="quizExtra" placeholder="VD: ThÃªm 1 cÃ¢u tráº¯c nghiá»‡m vá» nháº­n dáº¡ng dá»¯ kiá»‡n Ä‘á»§ Ã¡p dá»¥ng Ä‘á»‹nh lÃ½ cos"></textarea>
      </div>
      <div>
        <label>Ghi chÃº khÃ¡c</label>
        <textarea id="notes" placeholder="VD: DÃ¹ng vÃ­ dá»¥ cÃ³ sá»‘ Ä‘áº¹p; tá»‘i Æ°u mobile; khÃ´ng dÃ¹ng framework"></textarea>
      </div>
    </div>
  </section>

  <section class="card">
    <h3>4) Táº¡o Prompt</h3>
    <div class="row">
      <button class="btn" id="gen">âš™ï¸ Táº¡o Prompt</button>
      <button class="btn" id="copyBtn">ğŸ“‹ Copy</button>
      <button class="btn" id="saveBtn">ğŸ’¾ Táº£i .txt</button>
      <span id="status" class="note"></span>
    </div>
    <p class="note" style="margin:8px 0 6px">Káº¿t quáº£ (dÃ¡n tháº³ng vÃ o ChatGPT Ä‘á»ƒ nháº­n 1 file HTML hoÃ n chá»‰nh theo yÃªu cáº§u):</p>
    <pre id="output" class="out" style="min-height:220px;"></pre>
  </section>

  <div class="footer">Â© 2025 â€¢ FormPT â€¢ Táº¡o Master Prompt chá»§ Ä‘á» ToÃ¡n (MathJax v3-ready)</div>
</div>

<script>
  // ===== Theme toggle =====
  const btnTheme = document.getElementById('toggleTheme');
  const setTheme = (mode)=>{ document.body.classList.toggle('dark', mode==='dark'); localStorage.setItem('formpt_theme', mode); };
  setTheme(localStorage.getItem('formpt_theme') || (matchMedia('(prefers-color-scheme: dark)').matches?'dark':'light'));
  btnTheme.addEventListener('click',()=> setTheme(document.body.classList.contains('dark')?'light':'dark'));

  const $ = (s)=>document.querySelector(s);
  const nl = (s)=> (s||'').trim();

  function makePrompt(){
    const topic = nl($('#topic').value) || '[TÃªn chá»§ Ä‘á»]';
    const grade = nl($('#grade').value) || '[10/11/12]';
    const series = nl($('#series').value) || '[CTST/â€¦]';
    const goals = nl($('#goals').value) || '[3â€“5 má»¥c tiÃªu Ä‘o Ä‘Æ°á»£c]';

    const tool1 = nl($('#tool1').value) || '[mÃ´ táº£ cÃ´ng cá»¥ 1]';
    const tool2 = nl($('#tool2').value) || '[mÃ´ táº£ cÃ´ng cá»¥ 2]';
    const tool3 = nl($('#tool3').value) || '[mÃ´ táº£ cÃ´ng cá»¥ 3]';

    const quizExtra = nl($('#quizExtra').value);
    const notes = nl($('#notes').value);

    // MASTER PROMPT (khung cá»‘ Ä‘á»‹nh, Ä‘Ã£ tá»‘i Æ°u MathJax v3)
    const prompt = [
      "ÄÃ“NG VAI: GiÃ¡o viÃªn ToÃ¡n THPT (20 nÄƒm kinh nghiá»‡m) + Learning Experience Designer + Trá»£ giáº£ng AI.",
      "",
      `CHá»¦ Äá»€: ${topic} â€” Lá»›p ${grade} â€” Bá»™ sÃ¡ch ${series}`,
      "Má»¤C TIÃŠU NÄ‚NG Lá»°C:",
      goals.split('\n').map(s=>'â€¢ '+s).join('\n'),
      "",
      "Äáº¦U RA MONG MUá»N: Táº¡o Má»˜T file HTML duy nháº¥t (copyâ€“paste lÃ  cháº¡y) cÃ³ 3 tab:",
      "1) ğŸ”§ CÃ´ng cá»¥ ToÃ¡n há»c (tá»‘i thiá»ƒu 3 cÃ´ng cá»¥ nhá» cÃ³ vÃ­ dá»¥ sáºµn)",
      "2) ğŸ“ Kiá»ƒm tra (tráº¯c nghiá»‡m + tá»± luáº­n ngáº¯n, auto cháº¥m vá»›i thang 10; hiá»ƒn thá»‹ Ä‘iá»ƒm)",
      "3) ğŸ“š Kiáº¿n thá»©c (tÃ³m táº¯t, cÃ´ng thá»©c máº«u, vÃ­ dá»¥ minh há»a, máº¹o sai láº§m thÆ°á»ng gáº·p)",
      "",
      "YÃŠU Cáº¦U HIá»‚N THá»Š CÃ”NG THá»¨C (MathJax v3 â€“ Báº®T BUá»˜C):",
      "- DÃ¹ng \\( ... \\) cho inline vÃ  \\[ ... \\] cho display; KHÃ”NG dÃ¹ng $...$.",
      "- ChÃ¨n config MathJax v3 (tex-chtml) TRÆ¯á»šC tháº» script táº£i MathJax, cÃ³ id=\"MathJax-script\" vÃ  async.",
      "- options.skipHtmlTags thÃªm: script, noscript, style, textarea, pre, code.",
      "- Má»—i khi cáº­p nháº­t DOM hoáº·c Ä‘á»•i tab, gá»i: MathJax.typesetPromise([node]) cho Ä‘Ãºng vÃ¹ng.",
      "- KhÃ´ng render khi panel Ä‘ang hidden; chá»‰ typeset sau khi panel Ä‘Æ°á»£c hiá»ƒn thá»‹.",
      "",
      "YÃŠU Cáº¦U GIAO DIá»†N/UX:",
      "- Giao diá»‡n tá»‘i giáº£n, trá»±c quan, cÃ³ Light/Dark; nÃºt chuyá»ƒn theme; responsive (mobileâ€“desktop).",
      "- Tabs ARIA role Ä‘áº§y Ä‘á»§; panel áº©n/hiá»‡n Ä‘Ãºng thuá»™c tÃ­nh; kiá»ƒu chá»¯ há»‡ thá»‘ng.",
      "- KhÃ´ng dÃ¹ng framework; chá»‰ HTML+CSS+JS thuáº§n; khÃ´ng phá»¥ thuá»™c build tool.",
      "",
      "Ná»˜I DUNG Cá»¤ THá»‚:",
      "- TAB CÃ´ng cá»¥:",
      `  â€¢ CÃ´ng cá»¥ 1: ${tool1}`,
      `  â€¢ CÃ´ng cá»¥ 2: ${tool2}`,
      `  â€¢ CÃ´ng cá»¥ 3: ${tool3}`,
      "- TAB Kiá»ƒm tra:",
      "  â€¢ Tráº¯c nghiá»‡m: 2â€“4 cÃ¢u, má»—i cÃ¢u 2 Ä‘iá»ƒm, Ä‘Ã¡p Ã¡n & giáº£i thÃ­ch ngáº¯n.",
      "  â€¢ Tá»± luáº­n ngáº¯n: 2 cÃ¢u, má»—i cÃ¢u 3 Ä‘iá»ƒm; kiá»ƒm tra tá»« khoÃ¡/káº¿t quáº£ Ä‘á»ƒ cá»™ng Ä‘iá»ƒm.",
      "  â€¢ NÃºt â€œCháº¥m Ä‘iá»ƒmâ€ + â€œLÃ m láº¡iâ€; hiá»ƒn thá»‹ Ä‘iá»ƒm /10; mÃ u sáº¯c theo má»©c Ä‘iá»ƒm.",
      "- TAB Kiáº¿n thá»©c:",
      "  â€¢ CÃ´ng thá»©c chuáº©n cá»§a chá»§ Ä‘á» (Ä‘Ãºng LaTeX), vÃ­ dá»¥ máº«u (1 inline, 1 display).",
      "  â€¢ Sai láº§m phá»• biáº¿n & cÃ¡ch trÃ¡nh.",
      "  â€¢ â€œMáº«u cÃ´ng thá»©c copyâ€“pasteâ€ (5â€“7 máº«u thÃ´ng dá»¥ng cá»§a chá»§ Ä‘á»).",
      "",
      "ÄÃNH GIÃ & RUBRIC (10 Ä‘iá»ƒm):",
      "- 4Ä‘ tráº¯c nghiá»‡m; 6Ä‘ tá»± luáº­n ngáº¯n (má»—i cÃ¢u 3Ä‘, theo tá»« khoÃ¡/káº¿t quáº£).",
      "- Hiá»ƒn thá»‹ thang Ä‘iá»ƒm vÃ  tiÃªu chÃ­ cháº¥m sÃºc tÃ­ch trong tab Kiá»ƒm tra (details/summary).",
      "",
      "Báº¢O Äáº¢M KÄ¨ THUáº¬T:",
      "- Khi gÃ¡n innerHTML cÃ³ LaTeX, pháº£i escape backslash trong JS chuá»—i (\\\\ â†’ \\\\\\\\).",
      "- KhÃ´ng Ä‘áº·t cÃ´ng thá»©c trong <pre>/<code>/<textarea>.",
      "- Tá»‡p cháº¡y tá»‘t qua file:// vÃ  trÃªn GitHub Pages (CDN á»•n Ä‘á»‹nh).",
      "",
      "KIá»‚M THá»¬ NHANH (báº¯t buá»™c cÃ³ trong trang):",
      "- Inline test: \\( \\Delta = b^2 - 4ac \\)",
      "- Display test: \\[ x_{1,2} = \\frac{-b \\pm \\sqrt{b^2-4ac}}{2a} \\ ]",
      "",
      "Äáº¦U RA: Tráº£ vá» Ä‘Ãºng 1 file HTML hoÃ n chá»‰nh (toÃ n bá»™ code). KhÃ´ng giáº£i thÃ­ch lan man."
    ].join('\n');

    // ChÃ¨n pháº§n bá»• sung náº¿u cÃ³
    const extra = [];
    if (quizExtra) extra.push("\nLÆ¯U Ã THÃŠM CHO KIá»‚M TRA:\n- " + quizExtra.replace(/\n/g, "\n- "));
    if (notes) extra.push("\nGHI CHÃš KHÃC:\n- " + notes.replace(/\n/g, "\n- "));
    return prompt + (extra.length? ("\n" + extra.join("\n")) : "");
  }

  // ===== Actions =====
  const out = $('#output');
  const status = $('#status');

  $('#gen').addEventListener('click', ()=>{
    out.textContent = makePrompt();
    status.textContent = 'ÄÃ£ táº¡o prompt.';
    status.className = 'note ok';
    setTimeout(()=>{ status.textContent=''; status.className='note'; }, 1800);
  });

  $('#copyBtn').addEventListener('click', async ()=>{
    if (!out.textContent.trim()){ out.textContent = makePrompt(); }
    try{
      await navigator.clipboard.writeText(out.textContent);
      status.textContent = 'ÄÃ£ copy vÃ o clipboard.';
      status.className = 'note ok';
    }catch(e){
      status.textContent = 'KhÃ´ng copy Ä‘Æ°á»£c. HÃ£y bÃ´i Ä‘en vÃ  Ctrl+C.';
      status.className = 'note bad';
    }
    setTimeout(()=>{ status.textContent=''; status.className='note'; }, 2000);
  });

  $('#saveBtn').addEventListener('click', ()=>{
    if (!out.textContent.trim()){ out.textContent = makePrompt(); }
    const blob = new Blob([out.textContent], {type:'text/plain;charset=utf-8'});
    const url = URL.createObjectURL(blob);
    const a = document.createElement('a');
    a.href = url;
    const t = ($('#topic').value || 'chu-de-toan').toLowerCase().replace(/\s+/g,'-').replace(/[^a-z0-9\-]/g,'');
    a.download = `prompt-${t||'chu-de'}.txt`;
    document.body.appendChild(a); a.click(); a.remove();
    URL.revokeObjectURL(url);
  });
</script>
</body>
</html>
